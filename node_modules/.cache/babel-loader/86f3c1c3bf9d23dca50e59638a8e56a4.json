{"ast":null,"code":"var _jsxFileName = \"/Users/User/MH_fswd-twitter-clone/app/javascript/src/UserPage.jsx\",\n    _this = this;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { getUsersTweets, deleteTweet } from '../packs/request';\nimport Navbar from './Navbar';\nimport './style.scss';\nimport { getCurrentUser, countUsersTweets } from '../packs/utils';\n\nvar UserPage = function UserPage() {\n  //    states\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      usersTweets = _useState2[0],\n      setUsersTweets = _useState2[1];\n\n  var _useState3 = useState(140),\n      _useState4 = _slicedToArray(_useState3, 2),\n      characters = _useState4[0],\n      setCharacters = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newTweet = _useState6[0],\n      setNewTweet = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentUser = _useState8[0],\n      setCurrentUser = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      tweetCount = _useState10[0],\n      setTweetCount = _useState10[1]; //    the clicked user \n\n\n  var username = window.location.pathname.replace('/', ''); //    map users tweets to state\n\n  var listUserTweets = function listUserTweets(response) {\n    setUsersTweets(response.tweets.map(function (tweet) {\n      return tweet;\n    }));\n  }; //    handlers \n\n\n  var postTweetHandler = function postTweetHandler(event) {\n    event.preventDefault();\n    var fileUpload = document.getElementById('imageUpload');\n    var photo = fileUpload.files[0];\n    postTweet(newTweet, photo, function (response) {\n      if (response.success == false) {\n        setErrorMessage(\"Sorry, there was an error posting your tweet. Please try again\");\n      } else {\n        setErrorMessage(\"\");\n        setImagePreview(\"\");\n        getTweets(listOfTweets);\n        setNewTweet(\"\");\n        setCharacters(140);\n        countUsersTweets(response.tweet.username, setTweetCount);\n      }\n    });\n  };\n\n  var tweetInputHandler = function tweetInputHandler(event) {\n    setNewTweet(event.target.value);\n    setCharacters(140 - event.target.value.length);\n  };\n\n  var deleteTweetHandler = function deleteTweetHandler(event) {\n    var id = event.target.dataset.id;\n    deleteTweet(id, function () {\n      getUsersTweets(username, listUserTweets);\n      countUsersTweets(username, setTweetCount);\n    });\n  }; //    get user and users tweets on page load\n\n\n  useEffect(function () {\n    getCurrentUser(function (response) {\n      setCurrentUser(response.username);\n      countUsersTweets(username, setTweetCount);\n    });\n    getUsersTweets(username, listUserTweets);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mb-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"userFeed\",\n    className: \"container row mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-2 ms-3 ms-xl-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/feed\",\n    className: \"back-to-feed\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa-solid fa-arrow-left fs-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-xl-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-around\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-5 col-xl-12 username-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"p-0 py-2 py-xxl-3 ps-xxl-2 m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"title fw-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, username), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\" + username,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"@\", username), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"px-0 mt-1 user-stats\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, \"TWEETS\", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\" + username,\n    className: \"d-md-flex ps-4 ps-md-0 user-stats-tweets\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, tweetCount)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, \"FOLLOWING\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"d-md-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"0\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, \"FOLLOWERS\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"d-md-flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"0\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-xl-6 twitter-feed px-md-4 my-4 my-xl-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tweet-list\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, usersTweets.map(function (tweet) {\n    if (tweet.username === currentUser) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tweet p-3 pb-0\",\n        key: tweet.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"fw-bold d-inline\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }, tweet.username), /*#__PURE__*/React.createElement(\"a\", {\n        href: '/' + tweet.username,\n        className: \"fw-light ps-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, \"@\", tweet.username), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"d-inline date ps-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, tweet.created_at), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"pt-3 fw-light\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }, tweet.message), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"img-wrapper px-md-4\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"pb-1 tweet-image\",\n        src: tweet.image,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm d-flex ms-auto delete-btn\",\n        \"data-id\": tweet.id,\n        onClick: deleteTweetHandler,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      }, \"Delete\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tweet pb-4 p-3\",\n        key: tweet.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"fw-bold d-inline\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, tweet.username), /*#__PURE__*/React.createElement(\"a\", {\n        href: '/' + tweet.username,\n        className: \"fw-light ps-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, \"@\", tweet.username), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"d-inline date ps-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }\n      }, tweet.created_at), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"pt-3 fw-light\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      }, tweet.message), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"img-wrapper px-md-4\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"pb-1 tweet-image\",\n        src: tweet.image,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 23\n        }\n      })));\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-tweet-area p-3 pb-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"m-1\",\n    onSubmit: postTweetHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control tweet-box\",\n    id: \"tweetInput\",\n    value: newTweet,\n    onChange: tweetInputHandler,\n    placeholder: \"What's happening?\",\n    maxLength: \"140\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"m-0 py-1 char-count\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }, characters), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-sm fw-bold px-3 tweet-btn\",\n    onSubmit: postTweetHandler,\n    disabled: characters == 140 || characters < 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }, \"Tweet\"))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, errorMessage)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-3 d-none d-xl-block p-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa-solid fa-magnifying-glass\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control search\",\n    type: \"search\",\n    placeholder: \"Search\",\n    \"aria-label\": \"Search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }))))));\n};\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  ReactDOM.render( /*#__PURE__*/React.createElement(UserPage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 5\n    }\n  }), document.body.appendChild(document.createElement('div')));\n});","map":{"version":3,"sources":["/Users/User/MH_fswd-twitter-clone/app/javascript/src/UserPage.jsx"],"names":["React","useEffect","useState","ReactDOM","getUsersTweets","deleteTweet","Navbar","getCurrentUser","countUsersTweets","UserPage","usersTweets","setUsersTweets","characters","setCharacters","newTweet","setNewTweet","currentUser","setCurrentUser","tweetCount","setTweetCount","username","window","location","pathname","replace","listUserTweets","response","tweets","map","tweet","postTweetHandler","event","preventDefault","fileUpload","document","getElementById","photo","files","postTweet","success","setErrorMessage","setImagePreview","getTweets","listOfTweets","tweetInputHandler","target","value","length","deleteTweetHandler","id","dataset","created_at","message","image","errorMessage","addEventListener","render","body","appendChild","createElement"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { getUsersTweets, deleteTweet } from '../packs/request';\nimport Navbar from './Navbar';\nimport './style.scss';\nimport { getCurrentUser, countUsersTweets } from '../packs/utils';\n\nconst UserPage = () => {\n\n  //    states\n\n  const [usersTweets, setUsersTweets] = useState([]);\n  const [characters, setCharacters] = useState(140);\n  const [newTweet, setNewTweet] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState(\"\");\n  const [tweetCount, setTweetCount] = useState(0);\n\n  //    the clicked user \n\n  const username = window.location.pathname.replace('/', '');\n\n  //    map users tweets to state\n\n  const listUserTweets = function (response) {\n    setUsersTweets(response.tweets.map(tweet => tweet));\n  };\n\n  //    handlers \n\n  const postTweetHandler = function (event) {\n    event.preventDefault();\n    var fileUpload = document.getElementById('imageUpload');\n    var photo = fileUpload.files[0];\n    postTweet(newTweet, photo, function (response) {\n      if (response.success == false) {\n        setErrorMessage(\"Sorry, there was an error posting your tweet. Please try again\");\n      }\n      else {\n        setErrorMessage(\"\");\n        setImagePreview(\"\");\n        getTweets(listOfTweets);\n        setNewTweet(\"\");\n        setCharacters(140);\n        countUsersTweets(response.tweet.username, setTweetCount);\n      }\n    });\n  };\n\n  const tweetInputHandler = function (event) {\n    setNewTweet(event.target.value);\n    setCharacters(140 - event.target.value.length);\n  };\n\n  const deleteTweetHandler = function (event) {\n    var id = event.target.dataset.id;\n    deleteTweet(id, function () {\n      getUsersTweets(username, listUserTweets);\n      countUsersTweets(username, setTweetCount);\n    });\n  };\n\n  //    get user and users tweets on page load\n\n  useEffect(() => {\n    getCurrentUser(function (response) {\n      setCurrentUser(response.username);\n      countUsersTweets(username, setTweetCount);\n    });\n    getUsersTweets(username, listUserTweets);\n  }, []);\n\n  return (\n    <div className=\"container mb-5\">\n      <Navbar />\n      <div id=\"userFeed\" className=\"container row mt-1\">\n\n        <div className=\"py-2 ms-3 ms-xl-0\">\n          <a href=\"/feed\" className=\"back-to-feed\">\n            <i className=\"fa-solid fa-arrow-left fs-4\"></i>\n          </a>\n        </div>\n\n        <div className=\"col-12 col-xl-3\">\n\n          <div className=\"row justify-content-around\">\n\n            <div className=\"col-5 col-xl-12 username-box\">\n              <ul className=\"p-0 py-2 py-xxl-3 ps-xxl-2 m-0\">\n                <li className=\"title fw-bold\">{username}</li>\n                <a href={\"/\" + username}>@{username}</a>\n                <ul className=\"px-0 mt-1 user-stats\">\n                  <li>TWEETS\n                    <a href={\"/\" + username} className=\"d-md-flex ps-4 ps-md-0 user-stats-tweets\">{tweetCount}</a>\n                  </li>\n                  <li>FOLLOWING \n                    <span className=\"d-md-flex\">0</span>\n                  </li>\n                  <li>FOLLOWERS \n                    <span className=\"d-md-flex\">0</span>\n                  </li>\n                </ul>\n              </ul>\n            </div>\n\n          </div>\n\n        </div>\n\n        <div className=\"col-12 col-xl-6 twitter-feed px-md-4 my-4 my-xl-0\">\n\n          <div className=\"tweet-list\">\n\n            {usersTweets.map(tweet => {\n              if (tweet.username === currentUser) {\n                return (\n                  <div className=\"tweet p-3 pb-0\" key={tweet.id}>\n                    <p className=\"fw-bold d-inline\">{tweet.username}</p>\n                    <a href={'/' + tweet.username} className=\"fw-light ps-1\">@{tweet.username}</a>\n                    <p className=\"d-inline date ps-1\">{tweet.created_at}</p>\n                    <p className=\"pt-3 fw-light\">{tweet.message}</p>\n                    <div className=\"img-wrapper px-md-4\">\n                      <img className=\"pb-1 tweet-image\" src={tweet.image}></img>\n                    </div>\n                    <button className=\"btn btn-sm d-flex ms-auto delete-btn\" data-id={tweet.id} onClick={deleteTweetHandler}>Delete</button>\n                  </div>\n                )\n              }\n              else {\n                return (\n                  <div className=\"tweet pb-4 p-3\" key={tweet.id}>\n                    <p className=\"fw-bold d-inline\">{tweet.username}</p>\n                    <a href={'/' + tweet.username} className=\"fw-light ps-1\">@{tweet.username}</a>\n                    <p className=\"d-inline date ps-1\">{tweet.created_at}</p>\n                    <p className=\"pt-3 fw-light\">{tweet.message}</p>\n                    <div className=\"img-wrapper px-md-4\">\n                      <img className=\"pb-1 tweet-image\" src={tweet.image}></img>\n                    </div>\n                  </div>\n                )\n              }\n            })}\n            \n          </div>\n        </div>\n\n        <div className=\"new-tweet-area p-3 pb-1\">\n              <form className=\"m-1\" onSubmit={postTweetHandler}>\n                <textarea \n                  className=\"form-control tweet-box\" \n                  id=\"tweetInput\" \n                  value={newTweet} \n                  onChange={tweetInputHandler}\n                  placeholder=\"What's happening?\"\n                  maxLength=\"140\">\n                </textarea>\n                <div className=\"text-end\">\n                  <p className=\"m-0 py-1 char-count\">{characters}</p>\n                  <button \n                    type=\"submit\" \n                    className=\"btn btn-sm fw-bold px-3 tweet-btn\" \n                    onSubmit={postTweetHandler}\n                    disabled={characters == 140 || characters < 0}>\n                    Tweet\n                  </button>\n                </div>\n              </form>\n              <p>\n                {errorMessage}\n              </p>\n            </div>\n\n        <div className=\"col-3 d-none d-xl-block p-0\">\n          <form>\n            <div className=\"input-group\">\n              <span className=\"input-group-text\">\n                <i className=\"fa-solid fa-magnifying-glass\"></i>\n              </span>\n              <input className=\"form-control search\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\"/>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ReactDOM.render(\n    <UserPage />,\n    document.body.appendChild(document.createElement('div'))\n  )\n});"]},"metadata":{},"sourceType":"module"}